class PotentialLib:
    'Potential library'

    m_values = {
        '% STR': {
            'weight': 10,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% DEX': {
            'weight': 10,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% INT': {
            'weight': 10,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% LUK': {
            'weight': 10,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% All Stats': {
            'weight': 7,
            4: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            3: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            2: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Avoid': {
            'weight': 5,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Accuracy': {
            'weight': 5,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Max HP': {
            'weight': 7,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Max MP': {
            'weight': 5,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Weapon DEF': {
            'weight': 5,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Magic DEF': {
            'weight': 5,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Min Crit Damage': {
            'weight': 3,
            4: [
                (81, 250, 0.15),
                (61, 80, 0.12),
                (50, 60, 0.09),
                ],
            },
        '% Max Crit Damage': {
            'weight': 3,
            4: [
                (81, 250, 0.15),
                (61, 80, 0.12),
                (50, 60, 0.09),
                ],
            },
        '# Skill Level Increase': {
            'weight': 3,
            4: [
                (30, 250, 2),
                ],
            3: [
                (30, 250, 1),
                ],
            },
        '% Elemental Resistance': {
            'weight': 3,
            4: [
                (70, 70, 0.05),
                (71, 250, 0.1),
                ],
            },
        '% Abnormal Status Resistance': {
            'weight': 3,
            4: [
                (70, 70, 0.05),
                (71, 250, 0.1),
                ],
            },
        '% Chance to ignore monster damage': {
            'weight': 0.5,
            4: [
                (20, 250, 0.1, 0.2),
                (40, 250, 0.1, 0.4),
                ],
            3: [
                (20, 250, 0.05, 0.2),
                (40, 250, 0.05, 0.4),
                ],
            },
        '# Invincibility Time': {
            'weight': 2,
            4: [
                (0, 250, '3 sec'),
                ],
            3: [
                (0, 250, '2 sec'),
                ],
            2: [
                (0, 250, '1 sec'),
                ],
            },
        '# Chance Invincible Duration when Attacked': {
            'weight': 2,
            4: [
                (81, 250, 0.04, '7 sec'),
                (41, 80, 0.04, '6 sec'),
                (0, 40, 0.04, '5 sec'),
                ],
            3: [
                (81, 250, 0.02, '7 sec'),
                (41, 80, 0.02, '6 sec'),
                (0, 40, 0.02, '5 sec'),
                ],
            },
        '% Reflect Damage Chance': {
            'weight': 1.5,
            4: [
                (101, 250, 0.3, 0.7),
                (101, 250, 0.3, 0.5),
                (70, 100, 0.2, 0.7),
                (70, 100, 0.2, 0.5),
                (51, 70, 0.2, 0.5),
                (51, 70, 0.2, 0.35),
                (31, 50, 0.1, 0.5),
                (31, 50, 0.1, 0.35),
                (0, 30, 0.1, 0.3),
                (0, 30, 0.1, 0.2),
                ],
            },
        '% MP Cost': {
            'weight': 1.5,
            4: [
                (151, 250, -0.35),
                (151, 250, -0.17),
                (101, 150, -0.3),
                (101, 150, -0.15),
                (51, 100, -0.2),
                (51, 100, -0.1),
                (0, 50, -0.1),
                (0, 50, -0.05),
                ],
            },
        '% Potion HP Recovery Increase': {
            'weight': 1.5,
            4: [
                (71, 250, 0.4),
                (31, 70, 0.3),
                (0, 30, 0.2),
                ],
            3: [
                (71, 250, 0.3),
                (31, 70, 0.2),
                (0, 30, 0.1),
                ],
            },
        '# Skill Cooldown Reduction': {
            'weight': 1.5,
            4: [
                (120, 250, '2 sec'),
                (70, 250, '1 sec'),
                ],
            },
        '# Abnormal Status Duration Reduction': {
            'weight': 2,
            2: [
                (50, 250, '2 sec'),
                ],
            },
        '% Meso Drop Rate': {
            'weight': 3,
            4: [
                (71, 250, 0.2),
                (31, 70, 0.15),
                (0, 30, 0.1),
                ],
            },
        '% Item Drop Rate': {
            'weight': 3,
            4: [
                (71, 250, 0.2),
                (31, 70, 0.15),
                (0, 30, 0.1),
                ],
            },
        '# Chance Auto Cast': {
            'weight': 1,
            4: [
                (60, 250, 0.07, 'Seal'),
                (40, 250, 0.05, 'Seal'),
                (20, 250, 0.03, 'Seal'),
                ],
            3: [
                (40, 250, 0.02, 'Steal'),
                (20, 250, 0.01, 'Steal'),
                ],
            },
        '# Decent Combat Orders': {
            'weight': 3,
            4: [
                (70, 250, 'Enabled'),
                ],
            },
        '# Decent Advanced Blessing': {
            'weight': 3,
            4: [
                (120, 250, 'Enabled'),
                ],
            },
        '# Decent Speed Infusion': {
            'weight': 3,
            4: [
                (120, 250, 'Enabled'),
                ],
            },
        '# Decent Haste': {
            'weight': 2,
            3: [
                (70, 250, 'Enabled'),
                ],
            },
        '# Decent Mystic Door': {
            'weight': 2,
            3: [
                (70, 250, 'Enabled'),
                ],
            },
        '# Decent Sharp Eyes': {
            'weight': 2,
            3: [
                (120, 250, 'Enabled'),
                ],
            },
        '# Decent Hyper Body': {
            'weight': 2,
            3: [
                (120, 250, 'Enabled'),
                ],
            },
        '% Boss Damage': {
            'weight': 4.5,
            4: [
                (100, 250, 0.4),
                (100, 250, 0.35),
                (50, 250, 0.3),
                ],
            3: [
                (100, 250, 0.3),
                (50, 250, 0.2),
                ],
            },
        '% Weapon ATT': {
            'weight': 8,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Magic ATT': {
            'weight': 8,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '# Weapon ATT per 10 levels': {
            'weight': 8,
            4: [
                (30, 250, 1),
                ],
            },
        '# Magic ATT per 10 levels': {
            'weight': 8,
            4: [
                (30, 250, 1),
                ],
            },
        '% Total Damage': {
            'weight': 8,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Crit Rate': {
            'weight': 6,
            4: [
                (151, 250, 0.13),
                (71, 150, 0.12),
                (31, 70, 0.09),
                (0, 30, 0.06),
                ],
            3: [
                (151, 250, 0.1),
                (71, 150, 0.09),
                (31, 70, 0.06),
                (0, 30, 0.03),
                ],
            2: [
                (151, 250, 0.07),
                (71, 150, 0.06),
                (31, 70, 0.04),
                (0, 30, 0.02),
                ],
            1: [
                (151, 250, 0.04),
                (71, 150, 0.03),
                (31, 70, 0.02),
                (0, 30, 0.01),
                ],
            },
        '% Ignore Defense': {
            'weight': 6,
            4: [
                (100, 250, 0.4),
                (50, 250, 0.35),
                ],
            3: [
                (50, 250, 0.3),
                ],
            2: [
                (50, 250, 0.15),
                ],
            1: [
                (30, 250, 0.15),
                ]
            },
        '# Chance to recover HP when attacking': {
            'weight': 1.5,
            2: [
                (151, 250, 0.03, 54),
                (111, 150, 0.03, 53),
                (101, 110, 0.03, 50),
                (91, 100, 0.03, 47),
                (81, 90, 0.03, 44),
                (71, 80, 0.03, 41),
                (61, 70, 0.03, 38),
                (51, 60, 0.03, 35),
                (41, 50, 0.03, 32),
                (31, 40, 0.03, 29),
                (21, 30, 0.03, 26),
                (11, 20, 0.03, 23),
                (0, 10, 0.03, 20),
                ],
            1: [
                (151, 250, 0.03, 33),
                (111, 150, 0.03, 32),
                (101, 110, 0.03, 30),
                (91, 100, 0.03, 28),
                (81, 90, 0.03, 26),
                (71, 80, 0.03, 24),
                (61, 70, 0.03, 22),
                (51, 60, 0.03, 20),
                (41, 50, 0.03, 18),
                (31, 40, 0.03, 16),
                (21, 30, 0.03, 14),
                (11, 20, 0.03, 12),
                (0, 10, 0.03, 10),
                ],
            },
        '# Chance to recover MP when attacking': {
            'weight': 1.5,
            2: [
                (151, 250, 0.03, 54),
                (111, 150, 0.03, 53),
                (101, 110, 0.03, 50),
                (91, 100, 0.03, 47),
                (81, 90, 0.03, 44),
                (71, 80, 0.03, 41),
                (61, 70, 0.03, 38),
                (51, 60, 0.03, 35),
                (41, 50, 0.03, 32),
                (31, 40, 0.03, 29),
                (21, 30, 0.03, 26),
                (11, 20, 0.03, 23),
                (0, 10, 0.03, 20),
                ],
            1: [
                (151, 250, 0.03, 33),
                (111, 150, 0.03, 32),
                (101, 110, 0.03, 30),
                (91, 100, 0.03, 28),
                (81, 90, 0.03, 26),
                (71, 80, 0.03, 24),
                (61, 70, 0.03, 22),
                (51, 60, 0.03, 20),
                (41, 50, 0.03, 18),
                (31, 40, 0.03, 16),
                (21, 30, 0.03, 14),
                (11, 20, 0.03, 12),
                (0, 10, 0.03, 10),
                ],
            },
        '# Chance to ignore monster damage': {
            'weight': 1,
            2: [
                (151, 250, 0.2, 26),
                (111, 150, 0.2, 25),
                (101, 110, 0.2, 23),
                (91, 100, 0.2, 21),
                (81, 90, 0.2, 19),
                (71, 80, 0.2, 17),
                (61, 70, 0.2, 15),
                (51, 60, 0.2, 13),
                (41, 50, 0.2, 11),
                (31, 40, 0.2, 9),
                (21, 30, 0.2, 7),
                (11, 20, 0.2, 5),
                (0, 10, 0.2, 3),
                (151, 250, 0.2, 39),
                (111, 150, 0.2, 38),
                (101, 110, 0.2, 35),
                (91, 100, 0.2, 32),
                (81, 90, 0.2, 29),
                (71, 80, 0.2, 26),
                (61, 70, 0.2, 23),
                (51, 60, 0.2, 20),
                (41, 50, 0.2, 17),
                (31, 40, 0.2, 14),
                (21, 30, 0.2, 11),
                (11, 20, 0.2,8),
                (0, 10, 0.2, 5),
                (151, 250, 0.3, 53),
                (111, 150, 0.3, 51),
                (101, 110, 0.3, 47),
                (91, 100, 0.3, 43),
                (81, 90, 0.3, 39),
                (71, 80, 0.3, 35),
                (61, 70, 0.3, 31),
                (51, 60, 0.3, 27),
                (41, 50, 0.3, 23),
                (31, 40, 0.3, 19),
                (21, 30, 0.3, 15),
                (11, 20, 0.3, 11),
                (0, 10, 0.3, 7),
                ],
            },
        '# Chance to recover HP when killed monster': {
            'weight': 1.5,
            2: [
                (151, 250, 0.15, 97),
                (111, 150, 0.15, 95),
                (101, 110, 0.15, 90),
                (91, 100, 0.15, 85),
                (81, 90, 0.15, 80),
                (71, 80, 0.15, 75),
                (61, 70, 0.15, 70),
                (51, 60, 0.15, 65),
                (41, 50, 0.15, 60),
                (31, 40, 0.15, 55),
                (21, 30, 0.15, 50),
                (11, 20, 0.15, 45),
                (0, 10, 0.15, 40),
                ],
            },
        '# Chance to recover MP when killed monster': {
            'weight': 1.5,
            2: [
                (151, 250, 0.15, 97),
                (111, 150, 0.15, 95),
                (101, 110, 0.15, 90),
                (91, 100, 0.15, 85),
                (81, 90, 0.15, 80),
                (71, 80, 0.15, 75),
                (61, 70, 0.15, 70),
                (51, 60, 0.15, 65),
                (41, 50, 0.15, 60),
                (31, 40, 0.15, 55),
                (21, 30, 0.15, 50),
                (11, 20, 0.15, 45),
                (0, 10, 0.15, 40),
                ],
            },
        '# STR': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (71, 90, 10),
                (51, 70, 8),
                (41, 50, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 250, 6),
                (71, 90, 5),
                (51, 70, 4),
                (41, 50, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# DEX': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (71, 90, 10),
                (51, 70, 8),
                (41, 50, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 250, 6),
                (71, 90, 5),
                (51, 70, 4),
                (41, 50, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# INT': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (71, 90, 10),
                (51, 70, 8),
                (41, 50, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 250, 6),
                (71, 90, 5),
                (51, 70, 4),
                (41, 50, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# LUK': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (71, 90, 10),
                (51, 70, 8),
                (41, 50, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 250, 6),
                (71, 90, 5),
                (51, 70, 4),
                (41, 50, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# All Stats': {
            'weight': 7,
            1: [
                (151, 250, 6),
                (81, 150, 5),
                (61, 80, 4),
                (41, 60, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# Max HP': {
            'weight': 7,
            1: [
                (151, 250, 125),
                (111, 150, 120),
                (101, 110, 110),
                (91, 100, 100),
                (81, 90, 90),
                (71, 80, 80),
                (61, 70, 70),
                (51, 60, 60),
                (41, 50, 50),
                (31, 40, 40),
                (21, 30, 30),
                (11, 20, 20),
                (0, 10, 10),
                ],
            0: [
                (111, 250, 60),
                (101, 110, 55),
                (91, 100, 50),
                (81, 90, 45),
                (71, 80, 40),
                (61, 70, 35),
                (51, 60, 30),
                (41, 50, 25),
                (31, 40, 20),
                (21, 30, 15),
                (11, 20, 10),
                (0, 10, 5),
                ],
            },
        '# Max MP': {
            'weight': 5,
            1: [
                (151, 250, 125),
                (111, 150, 120),
                (101, 110, 110),
                (91, 100, 100),
                (81, 90, 90),
                (71, 80, 80),
                (61, 70, 70),
                (51, 60, 60),
                (41, 50, 50),
                (31, 40, 40),
                (21, 30, 30),
                (11, 20, 20),
                (0, 10, 10),
                ],
            0: [
                (111, 250, 60),
                (101, 110, 55),
                (91, 100, 50),
                (81, 90, 45),
                (71, 80, 40),
                (61, 70, 35),
                (51, 60, 30),
                (41, 50, 25),
                (31, 40, 20),
                (21, 30, 15),
                (11, 20, 10),
                (0, 10, 5),
                ],
            },
        '# Accuracy': {
            'weight': 5,
            1: [
                (151, 250, 50),
                (111, 150, 48),
                (101, 110, 44),
                (91, 100, 40),
                (81, 90, 36),
                (71, 80, 32),
                (61, 70, 28),
                (51, 60, 24),
                (41, 50, 20),
                (31, 40, 16),
                (21, 30, 12),
                (11, 20, 8),
                (0, 10, 4),
                ],
            0: [
                (111, 250, 24),
                (101, 110, 22),
                (91, 100, 20),
                (81, 90, 18),
                (71, 80, 16),
                (61, 70, 14),
                (51, 60, 12),
                (41, 50, 10),
                (31, 40, 8),
                (21, 30, 6),
                (11, 20, 4),
                (0, 10, 2),
                ],
            },
        '# Avoid': {
            'weight': 5,
            1: [
                (151, 250, 50),
                (111, 150, 48),
                (101, 110, 44),
                (91, 100, 40),
                (81, 90, 36),
                (71, 80, 32),
                (61, 70, 28),
                (51, 60, 24),
                (41, 50, 20),
                (31, 40, 16),
                (21, 30, 12),
                (11, 20, 8),
                (0, 10, 4),
                ],
            0: [
                (111, 250, 24),
                (101, 110, 22),
                (91, 100, 20),
                (81, 90, 18),
                (71, 80, 16),
                (61, 70, 14),
                (51, 60, 12),
                (41, 50, 10),
                (31, 40, 8),
                (21, 30, 6),
                (11, 20, 4),
                (0, 10, 2),
                ],
            },
        '# Speed': {
            'weight': 7,
            1: [
                (111, 250, 8),
                (70, 110, 6),
                (31, 70, 4),
                (0, 30, 2),
                ],
            0: [
                (111, 250, 4),
                (70, 110, 3),
                (31, 70, 2),
                (0, 30, 1),
                ],
            },
        '# Jump': {
            'weight': 7,
            1: [
                (111, 250, 8),
                (70, 110, 6),
                (31, 70, 4),
                (0, 30, 2),
                ],
            0: [
                (111, 250, 4),
                (70, 110, 3),
                (31, 70, 2),
                (0, 30, 1),
                ],
            },
        '# Weapon ATT': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (81, 90, 10),
                (61, 80, 8),
                (41, 60, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 150, 6),
                (81, 90, 5),
                (61, 80, 4),
                (41, 60, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# Magic ATT': {
            'weight': 10,
            1: [
                (151, 250, 13),
                (91, 150, 12),
                (81, 90, 10),
                (61, 80, 8),
                (41, 60, 6),
                (21, 40, 4),
                (0, 20, 2),
                ],
            0: [
                (91, 150, 6),
                (81, 90, 5),
                (61, 80, 4),
                (41, 60, 3),
                (21, 40, 2),
                (0, 20, 1),
                ],
            },
        '# Weapon DEF': {
            'weight': 5,
             1: [
                 (151, 250, 125),
                 (111, 150, 120),
                 (101, 110, 110),
                 (91, 100, 100),
                 (81, 90, 90),
                 (71, 80, 80),
                 (61, 70, 70),
                 (51, 60, 60),
                 (41, 50, 50),
                 (31, 40, 40),
                 (21, 30, 30),
                 (11, 20, 20),
                 (0, 10, 10),
                 ],
             0: [
                 (111, 250, 60),
                 (101, 110, 55),
                 (91, 100, 50),
                 (81, 90, 45),
                 (71, 80, 40),
                 (61, 70, 35),
                 (51, 60, 30),
                 (41, 50, 25),
                 (31, 40, 20),
                 (21, 30, 15),
                 (11, 20, 10),
                 (0, 10, 5),
                 ],
             },
        '# Magic DEF': {
            'weight': 5,
             1: [
                 (151, 250, 125),
                 (111, 150, 120),
                 (101, 110, 110),
                 (91, 100, 100),
                 (81, 90, 90),
                 (71, 80, 80),
                 (61, 70, 70),
                 (51, 60, 60),
                 (41, 50, 50),
                 (31, 40, 40),
                 (21, 30, 30),
                 (11, 20, 20),
                 (0, 10, 10),
                 ],
             0: [
                 (111, 250, 60),
                 (101, 110, 55),
                 (91, 100, 50),
                 (81, 90, 45),
                 (71, 80, 40),
                 (61, 70, 35),
                 (51, 60, 30),
                 (41, 50, 25),
                 (31, 40, 20),
                 (21, 30, 15),
                 (11, 20, 10),
                 (0, 10, 5),
                 ],
             },
        '# Recover HP every 4 sec': {
            'weight': 3,
            1: [
                (151, 250, 25),
                (111, 150, 24),
                (101, 110, 22),
                (91, 100, 20),
                (81, 90, 18),
                (71, 80, 16),
                (61, 70, 14),
                (51, 60, 12),
                (41, 50, 10),
                (31, 40, 8),
                (21, 30, 6),
                (11, 20, 4),
                (0, 10, 2),
                ],
            },
        '# Recover MP every 4 sec': {
            'weight': 3,
            1: [
                (151, 250, 25),
                (111, 150, 24),
                (101, 110, 22),
                (91, 100, 20),
                (81, 90, 18),
                (71, 80, 16),
                (61, 70, 14),
                (51, 60, 12),
                (41, 50, 10),
                (31, 40, 8),
                (21, 30, 6),
                (11, 20, 4),
                (0, 10, 2),
                ],
            },
        '# Chance to inflict status when attacking': {
            'weight': 1,
            1: [
                (101, 250, 0.1, 'Darkness Level 3'),
                (51, 100, 0.1, 'Darkness Level 2'),
                (10, 50, 0.1, 'Darkness Level 1'),
                (71, 250, 0.1, 'Slow Level 2'),
                (10, 70, 0.1, 'Slow Level 1'),
                (101, 250, 0.1, 'Poison Level 6'),
                (81, 100, 0.1, 'Poison Level 5'),
                (61, 80, 0.1, 'Poison Level 4'),
                (41, 60, 0.1, 'Poison Level 3'),
                (21, 40, 0.1, 'Poison Level 2'),
                (10, 20, 0.1, 'Poison Level 1'),
                (71, 250, 0.05, 'Stun Level 2'),
                (10, 70, 0.05, 'Stun Level 1'),
                (71, 250, 0.05, 'Mute Level 2'),
                (10, 70, 0.05, 'Mute Level 1'),
                (71, 250, 0.05, 'Freeze Level 2'),
                (10, 70, 0.05, 'Freeze Level 1'),
                ],
            },
        '# Chance to show emotion for 10 sec when attacked': {
            'weight': 1,
            0: [
                (0, 250, 0.1, 'Rage'),
                (0, 250, 0.1, 'Happy'),
                (0, 250, 0.1, 'Fall in love'),
                (0, 250, 0.1, 'Deeply moved'),
                (0, 250, 0.1, 'Angry'),
                ],
            }
        
        }

    m_libTypeCommon = {
        'generic': [
                '# STR',
                '# DEX',
                '# INT',
                '# LUK',
                '# All Stats',
                '# Max HP',
                '# Max MP',
                '# Accuracy',
                '# Avoid',
                '% STR',
                '% DEX',
                '% INT',
                '% LUK',
                '% All Stats',
                '% Accuracy',
                '% Avoid',
                ],
        'Armor&Accessory': [
                '# Weapon DEF',
                '# Magic DEF',
                '% Max HP',
                '% Max MP',
                '% Weapon DEF',
                '% Magic DEF',
                '# Chance to ignore monster damage',
                '% Chance to ignore monster damage',
                '% Potion HP Recovery Increase',
                ],
        'Accessory': [
                '# Recover HP every 4 sec',
                '# Recover MP every 4 sec',
                '% MP Cost',
                '% Meso Drop Rate',
                '% Item Drop Rate',
                ],
        }
    
    m_libType = {
        'Hat': [
                '# Chance to show emotion for 10 sec when attacked',
                '# Decent Mystic Door',
                '# Decent Advanced Blessing',
                '# Skill Cooldown Reduction',
                '# Skill Level Increase',               
                ] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Top': [
                '# Invincibility Time',
                '# Abnormal Status Duration Reduction',
                '# Chance Invincible Duration when Attacked',
                '% Elemental Resistance',
                ] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Bottom': [
                '# Decent Hyper Body',
                '% Abnormal Status Resistance',
                '% Reflect Damage Chance',
                ] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Shoe': [
                '# Speed',
                '# Jump',
                '# Decent Haste',
                '# Decent Combat Orders',
                ] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Cape': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Belt': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Glove': [
                '# Chance Auto Cast',
                '# Decent Sharp Eyes',
                '% Min Crit Damage',
                '% Max Crit Damage',
                '# Decent Speed Infusion',
                ] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
        'Eye': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'] + \
                    m_libTypeCommon['Accessory'],
        'Face': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'] + \
                    m_libTypeCommon['Accessory'],
        'Ring': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'] + \
                    m_libTypeCommon['Accessory'],
        'Pendant': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'] + \
                    m_libTypeCommon['Accessory'],
        'Earring': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'] + \
                    m_libTypeCommon['Accessory'],
        'Badge': [] + m_libTypeCommon['generic'] + \
                    m_libTypeCommon['Armor&Accessory'],
                'Weapon': [
                '% Boss Damage',
                '% Weapon ATT',
                '% Magic ATT',
                '% Total Damage',
                '% Crit Rate',
                '% Ignore Defense',
                '# Weapon ATT',
                '# Magic ATT',
                '# Chance to recover HP when attacking',
                '# Chance to recover MP when attacking',
                '# Chance to inflict status when attacking',
                '# Chance to recover HP when killed monster',
                '# Chance to recover MP when killed monster',
                '# Weapon ATT per 10 levels',
                '# Magic ATT per 10 levels',
                ] + m_libTypeCommon['generic'],
        'Secondary': [
                '% Boss Damage',
                '% Weapon ATT',
                '% Magic ATT',
                '% Total Damage',
                '% Crit Rate',
                '% Ignore Defense',
                '# Weapon ATT',
                '# Magic ATT',
                '# Chance to recover HP when attacking',
                '# Chance to recover MP when attacking',
                '# Chance to inflict status when attacking',
                '# Chance to recover HP when killed monster',
                '# Chance to recover MP when killed monster',
                '# Weapon ATT per 10 levels',
                '# Magic ATT per 10 levels',
                ] + m_libTypeCommon['generic'],
        'Emblem' : [
                '% Weapon ATT',
                '% Magic ATT',
                '% Total Damage',
                '% Crit Rate',
                '% Ignore Defense',
                '# Weapon ATT',
                '# Magic ATT',
                '# Weapon ATT per 10 levels',
                '# Magic ATT per 10 levels',
                ] + m_libTypeCommon['generic'],
        }            
    
    def roll(self, pot, rank):
        lineTypes = self.m_libType[pot.m_type]
        options = []
        for key, value in self.m_values.items():
            if key not in lineTypes:
                continue
            weight = self.m_values[key]['weight']
            if key == '% Boss Damage':
                count = 0
                if [line[0] for line in pot.m_lines].count('% Boss Damage') >= 2:
                    continue
            if key == '% Ignore Defense':
                count = 0
                if [line[0] for line in pot.m_lines].count('% Ignore Defense') >= 2:
                    continue
            if rank in value.keys():
                potValues = value[rank]
                for line in potValues:
                    minLvl = line[0]
                    maxLvl = line[1]
                    if len(line) == 3:
                        val = line[2]
                    else:
                        val = (line[2], line[3])
                    if minLvl <= pot.m_level and maxLvl >= pot.m_level:
                        options.append(((key, val), weight))
        return options
        
                
        
        
